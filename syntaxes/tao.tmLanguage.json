{
  "scopeName": "source.tao",
  "injectionSelector": "L:text.html - string - comment - meta.tag",
  "patterns": [
    {
      "name": "meta.embedded.block.tao",
      "begin": "(<%[=~]?)",
      "beginCaptures": {
        "1": { "name": "punctuation.section.embedded.begin.tao" }
      },
      "end": "(?=%>)",
      "patterns": [{ "include": "source.js" }],
      "applyEndPatternLast": 0
    },
    {
      "match": "%>",
      "name": "punctuation.section.embedded.end.tao"
    }
  ]
}
